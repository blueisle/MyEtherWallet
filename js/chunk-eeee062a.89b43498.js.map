{"version":3,"sources":["webpack:///src/layouts/InterfaceLayout/containers/VerifyMessageContainer/VerifyMessageContainer.vue","webpack:///./src/layouts/InterfaceLayout/containers/VerifyMessageContainer/VerifyMessageContainer.vue?10ec","webpack:///./src/layouts/InterfaceLayout/containers/VerifyMessageContainer/VerifyMessageContainer.vue?d6b1","webpack:///./src/layouts/InterfaceLayout/containers/VerifyMessageContainer/VerifyMessageContainer.vue","webpack:///./src/layouts/InterfaceLayout/containers/VerifyMessageContainer/index.js","webpack:///./src/layouts/InterfaceLayout/containers/VerifyMessageContainer/VerifyMessageContainer.vue?74af"],"names":["__webpack_require__","__webpack_exports__","components","interface-bottom-text","_components_InterfaceBottomText__WEBPACK_IMPORTED_MODULE_2__","interface-container-title","_components_InterfaceContainerTitle__WEBPACK_IMPORTED_MODULE_3__","data","message","showMessage","computed","Object","_home_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","vuex__WEBPACK_IMPORTED_MODULE_5__","web3","watch","newVal","this","methods","copyToClipboard","$refs","signature","select","document","execCommand","window","getSelection","removeAllRanges","deleteInput","value","verifyMessage","json","JSON","parse","hash","_helpers__WEBPACK_IMPORTED_MODULE_4__","hashPersonalMessage","toBuffer","msg","sig","Buffer","from","getNakedAddress","length","version","signer","getTrezorHash","utils","sha3","pubKey","ecrecover","slice","address","pubToAddress","toString","responseHandler","ERROR","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","$t","_v","on","click","_s","directives","name","rawName","expression","ref","domProps","input","$event","target","composing","_e","errors","has","first","class","link-text","question","link","staticRenderFns","VerifyMessageContainer_VerifyMessageContainervue_type_script_lang_js_","VerifyMessageContainervue_type_script_lang_js_","component","componentNormalizer","VerifyMessageContainer","d","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_VerifyMessageContainer_vue_vue_type_style_index_0_id_6bffc700_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_VerifyMessageContainer_vue_vue_type_style_index_0_id_6bffc700_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"uMAkEAA,EAAA,QAEAC,EAAA,MACAC,WAAA,CACAC,wBAAAC,EAAA,KACAC,4BAAAC,EAAA,MAEAC,KALA,WAMA,OACAC,QAAA,GACAC,aAAA,IAGAC,SAAAC,OAAAC,EAAA,KAAAD,CAAA,GACAA,OAAAE,EAAA,KAAAF,CAAA,CACAG,KAAA,UAGAC,MAAA,CACAP,QADA,SACAQ,GACAC,KAAAT,QAAAQ,IAGAE,QAAA,CACAC,gBADA,WAEAF,KAAAG,MAAAC,UAAAC,SACAC,SAAAC,YAAA,QACAC,OAAAC,eAAAC,mBAEAC,YANA,WAOAX,KAAAG,MAAAC,UAAAQ,MAAA,IAEAC,cATA,WAUA,IAAAC,EAAAC,KAAAC,MAAAhB,KAAAT,SACA0B,EAAAC,EAAA,KAAAC,oBACAD,EAAA,KAAAE,SAAAN,EAAAO,MAEAC,EAAAC,EAAAC,KAAAN,EAAA,KAAAO,gBAAAX,EAAAQ,KAAA,OACA,QAAAA,EAAAI,OAAA,CAKAJ,EAAA,QAAAA,EAAA,SAAAA,EAAA,IAAAA,EAAA,OAAAA,EAAA,IACA,MAAAR,EAAAa,QACA,WAAAb,EAAAc,OACAX,EAAAC,EAAA,KAAAW,cAAAf,EAAAO,KACA,WAAAP,EAAAc,SACAX,EAAAC,EAAA,KAAAC,oBAAAI,EAAAC,KAAAV,EAAAO,OAEA,MAAAP,EAAAa,UACAV,EAAAjB,KAAAH,KAAAiC,MAAAC,KAAAjB,EAAAO,MAGA,IAAAW,EAAAd,EAAA,KAAAe,UACAhB,EACAK,EAAA,IACAA,EAAAY,MAAA,MACAZ,EAAAY,MAAA,QAGAhB,EAAA,KAAAO,gBAAAX,EAAAqB,WACAjB,EAAA,KAAAkB,aAAAJ,GAAAK,SAAA,OAEAnB,EAAA,KAAAoB,gBAAA,wBAAApB,EAAA,KAAAqB,OAEAvC,KAAAR,aAAA,OA3BA0B,EAAA,KAAAoB,gBAAA,wBAAApB,EAAA,KAAAqB,kFCzGA,IAAAC,EAAA,WAA0B,IAAAC,EAAAzC,KAAa0C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,4BAAuC,CAAAF,EAAA,6BAAkCG,MAAA,CAAOC,MAAAP,EAAAQ,GAAA,2BAAwCL,EAAA,OAAYE,YAAA,qBAAgC,CAAAF,EAAA,OAAYE,YAAA,aAAwB,CAAAF,EAAA,OAAYE,YAAA,mBAA8B,CAAAF,EAAA,OAAYE,YAAA,SAAoB,CAAAF,EAAA,MAAAH,EAAAS,GAAA,gBAAAN,EAAA,OAA4CE,YAAA,gBAA2B,CAAAF,EAAA,QAAaO,GAAA,CAAIC,MAAAX,EAAA9B,cAAyB,CAAA8B,EAAAS,GAAAT,EAAAY,GAAAZ,EAAAQ,GAAA,oBAAAL,EAAA,QAAsDO,GAAA,CAAIC,MAAAX,EAAAvC,kBAA6B,CAAAuC,EAAAS,GAAAT,EAAAY,GAAAZ,EAAAQ,GAAA,yBAAAL,EAAA,OAA0DE,YAAA,sBAAiC,CAAAF,EAAA,YAAiBU,WAAA,EAAaC,KAAA,WAAAC,QAAA,aAAA5C,MAAA,WAAA6C,WAAA,cAAgF,CAAEF,KAAA,QAAAC,QAAA,UAAA5C,MAAA6B,EAAA,QAAAgB,WAAA,YAAwEC,IAAA,YAAAZ,YAAA,oBAAAC,MAAA,CAAyDQ,KAAA,UAAgBI,SAAA,CAAW/C,MAAA6B,EAAA,SAAsBU,GAAA,CAAKS,MAAA,SAAAC,GAAyBA,EAAAC,OAAAC,YAAsCtB,EAAAlD,QAAAsE,EAAAC,OAAAlD,aAAkCgC,EAAA,YAAAH,EAAAlD,UAAA,IAAAkD,EAAAjD,YAAAoD,EAAA,KAAuEE,YAAA,mBAA8B,CAAAL,EAAAS,GAAA,eAAAT,EAAAY,GAAAtC,KAAAC,MAAAyB,EAAAlD,SAAA4C,SAAA,eAAAM,EAAAY,GAAAZ,EAAAQ,GAAA,+CAAAlC,KAAAC,MAAAyB,EAAAlD,SAAA8B,IAAAK,OAAA,GAAAkB,EAAA,MAAAH,EAAAuB,KAAApB,EAAA,KAAAH,EAAAS,GAAAT,EAAAY,GAAAtC,KAAAC,MAAAyB,EAAAlD,SAAA8B,UAAAoB,EAAAuB,KAAAvB,EAAAwB,OAAAC,IAAA,UAAAtB,EAAA,KAAAH,EAAAS,GAAAT,EAAAY,GAAAZ,EAAAwB,OAAAE,MAAA,cAAA1B,EAAAuB,SAAApB,EAAA,OAAgXE,YAAA,2BAAsC,CAAAF,EAAA,OAAYE,YAAA,WAAsB,CAAAF,EAAA,UAAewB,MAAA,CACnlD3B,EAAAwB,OAAAC,IAAA,gBAAAzB,EAAAlD,QAAA,cACA,2DACA4D,GAAA,CAAgBC,MAAAX,EAAA5B,gBAA2B,CAAA4B,EAAAS,GAAA,eAAAT,EAAAY,GAAAZ,EAAAQ,GAAA,2CAAAL,EAAA,yBAA6GG,MAAA,CAAOsB,YAAA5B,EAAAQ,GAAA,wBAAAqB,SAAA7B,EAAAQ,GAAA,wBAAAsB,KAAA,mCAA4H,UAC3RC,EAAA,eCJ6YC,EAAAC,EAAA,6BCQ7YC,EAAgBjF,OAAAkF,EAAA,KAAAlF,CACd+E,EACAjC,EACAgC,GACF,EACA,KACA,WACA,MAIeK,EAAAF,UCnBf5F,EAAA+F,EAAA9F,EAAA,4BAAA6F,8DCAA,IAAAE,EAAAhG,EAAA,QAAAiG,EAAAjG,EAAAkG,EAAAF,GAAinBC,EAAG","file":"js/chunk-eeee062a.89b43498.js","sourcesContent":["<template>\n  <div class=\"verify-message-container\">\n    <interface-container-title :title=\"$t('common.verifyMessage')\" />\n\n    <div class=\"content-container\">\n      <div class=\"send-form\">\n        <div class=\"title-container\">\n          <div class=\"title\">\n            <h4>Signature:</h4>\n            <div class=\"copy-buttons\">\n              <span @click=\"deleteInput\">{{ $t('common.clear') }}</span>\n              <span @click=\"copyToClipboard\">{{ $t('common.copy') }}</span>\n            </div>\n          </div>\n        </div>\n        <div class=\"the-form signature\">\n          <textarea\n            v-validate=\"'required'\"\n            ref=\"signature\"\n            v-model=\"message\"\n            name=\"verify\"\n            class=\"custom-textarea-1\"\n          />\n        </div>\n        <div>\n          <p\n            v-if=\"message !== '' && showMessage === true\"\n            class=\"success-message\"\n          >\n            {{ JSON.parse(message).address }}\n            {{ $t('interface.verifiedMessage') }}:\n            <br v-if=\"JSON.parse(message).msg.length > 20\" />\n            <b>{{ JSON.parse(message).msg }}</b>\n          </p>\n          <p v-if=\"errors.has('verify')\">{{ errors.first('verify') }}</p>\n        </div>\n      </div>\n\n      <div class=\"submit-button-container\">\n        <div class=\"buttons\">\n          <button\n            :class=\"[\n              errors.has('verify') || message === '' ? 'disabled' : '',\n              'submit-button large-round-button-green-filled clickable'\n            ]\"\n            @click=\"verifyMessage\"\n          >\n            {{ $t('common.verifyMessage') }}\n          </button>\n        </div>\n        <interface-bottom-text\n          :link-text=\"$t('interface.helpCenter')\"\n          :question=\"$t('interface.haveIssues')\"\n          link=\"https://kb.myetherwallet.com\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport InterfaceBottomText from '@/components/InterfaceBottomText';\nimport InterfaceContainerTitle from '../../components/InterfaceContainerTitle';\nimport { MessageUtil, Toast } from '@/helpers';\nimport { mapGetters } from 'vuex';\n// eslint-disable-next-line\nconst createKeccakHash = require('keccak');\n\nexport default {\n  components: {\n    'interface-bottom-text': InterfaceBottomText,\n    'interface-container-title': InterfaceContainerTitle\n  },\n  data() {\n    return {\n      message: '',\n      showMessage: false\n    };\n  },\n  computed: {\n    ...mapGetters({\n      web3: 'web3'\n    })\n  },\n  watch: {\n    message(newVal) {\n      this.message = newVal;\n    }\n  },\n  methods: {\n    copyToClipboard() {\n      this.$refs.signature.select();\n      document.execCommand('copy');\n      window.getSelection().removeAllRanges();\n    },\n    deleteInput() {\n      this.$refs.signature.value = '';\n    },\n    verifyMessage() {\n      const json = JSON.parse(this.message);\n      let hash = MessageUtil.hashPersonalMessage(\n        MessageUtil.toBuffer(json.msg)\n      );\n      const sig = Buffer.from(MessageUtil.getNakedAddress(json.sig), 'hex');\n      if (sig.length !== 65) {\n        Toast.responseHandler('Something went wrong!', Toast.ERROR);\n        return;\n      }\n\n      sig[64] = sig[64] === 0 || sig[64] === 1 ? sig[64] + 27 : sig[64];\n      if (json.version === '3') {\n        if (json.signer === 'trezor') {\n          hash = MessageUtil.getTrezorHash(json.msg);\n        } else if (json.signer === 'ledger') {\n          hash = MessageUtil.hashPersonalMessage(Buffer.from(json.msg));\n        }\n      } else if (json.version === '1') {\n        hash = this.web3.utils.sha3(json.msg);\n      }\n\n      const pubKey = MessageUtil.ecrecover(\n        hash,\n        sig[64],\n        sig.slice(0, 32),\n        sig.slice(32, 64)\n      );\n      if (\n        MessageUtil.getNakedAddress(json.address) !==\n        MessageUtil.pubToAddress(pubKey).toString('hex')\n      ) {\n        Toast.responseHandler('Something went wrong!', Toast.ERROR);\n      } else {\n        this.showMessage = true;\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'VerifyMessageContainer.scss';\n</style>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"verify-message-container\"},[_c('interface-container-title',{attrs:{\"title\":_vm.$t('common.verifyMessage')}}),_c('div',{staticClass:\"content-container\"},[_c('div',{staticClass:\"send-form\"},[_c('div',{staticClass:\"title-container\"},[_c('div',{staticClass:\"title\"},[_c('h4',[_vm._v(\"Signature:\")]),_c('div',{staticClass:\"copy-buttons\"},[_c('span',{on:{\"click\":_vm.deleteInput}},[_vm._v(_vm._s(_vm.$t('common.clear')))]),_c('span',{on:{\"click\":_vm.copyToClipboard}},[_vm._v(_vm._s(_vm.$t('common.copy')))])])])]),_c('div',{staticClass:\"the-form signature\"},[_c('textarea',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"},{name:\"model\",rawName:\"v-model\",value:(_vm.message),expression:\"message\"}],ref:\"signature\",staticClass:\"custom-textarea-1\",attrs:{\"name\":\"verify\"},domProps:{\"value\":(_vm.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.message=$event.target.value}}})]),_c('div',[(_vm.message !== '' && _vm.showMessage === true)?_c('p',{staticClass:\"success-message\"},[_vm._v(\"\\n          \"+_vm._s(JSON.parse(_vm.message).address)+\"\\n          \"+_vm._s(_vm.$t('interface.verifiedMessage'))+\":\\n          \"),(JSON.parse(_vm.message).msg.length > 20)?_c('br'):_vm._e(),_c('b',[_vm._v(_vm._s(JSON.parse(_vm.message).msg))])]):_vm._e(),(_vm.errors.has('verify'))?_c('p',[_vm._v(_vm._s(_vm.errors.first('verify')))]):_vm._e()])]),_c('div',{staticClass:\"submit-button-container\"},[_c('div',{staticClass:\"buttons\"},[_c('button',{class:[\n            _vm.errors.has('verify') || _vm.message === '' ? 'disabled' : '',\n            'submit-button large-round-button-green-filled clickable'\n          ],on:{\"click\":_vm.verifyMessage}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('common.verifyMessage'))+\"\\n        \")])]),_c('interface-bottom-text',{attrs:{\"link-text\":_vm.$t('interface.helpCenter'),\"question\":_vm.$t('interface.haveIssues'),\"link\":\"https://kb.myetherwallet.com\"}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VerifyMessageContainer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VerifyMessageContainer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VerifyMessageContainer.vue?vue&type=template&id=6bffc700&scoped=true&\"\nimport script from \"./VerifyMessageContainer.vue?vue&type=script&lang=js&\"\nexport * from \"./VerifyMessageContainer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VerifyMessageContainer.vue?vue&type=style&index=0&id=6bffc700&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6bffc700\",\n  null\n  \n)\n\nexport default component.exports","export { default } from './VerifyMessageContainer';\n","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VerifyMessageContainer.vue?vue&type=style&index=0&id=6bffc700&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VerifyMessageContainer.vue?vue&type=style&index=0&id=6bffc700&lang=scss&scoped=true&\""],"sourceRoot":""}